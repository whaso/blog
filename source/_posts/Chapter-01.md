---
title: Chapter-01
date: 2021-06-16 22:05:05
tags: 网络基础
---

# 计算机网络基础Chapter-1

## 1. 性能指标

**速率**

-  即数据率或称数据传输率或比特率

| 速率（千，兆，吉，太）(kb, Mb, Gb, Tb) | 存储容量(KB, MB, GB, TB)（1Byte = 8bit） |
| -------------------------------------- | ---------------------------------------- |
| 千 1kb/s = 10**3 b/s                   | 1KB = 2**10B = 1024B = 1024 * 8 b        |

**带宽**

-  指网络的通信线路传送数据的能力， 通常是指单位时间内从网络中的一点到另一点所能通过的 **最高数据率**。
-   单位: **比特每秒**， b/s, kb/s, Mb/s, Gb/s, 网络设备所支持的最高速度

 **吞吐量**

- 表示**单位时间** 内通过 **某个网络(或信道、接口)**的数据量
- 单位： b/s, kb/s, Mb/s等
- 吞吐量受网络的带宽或网络的额定速率的限制

 **时延**

- 指数据（报文/分组/比特流）从网络（或链路）的一端传送到另一端所需的时间，也叫延迟，单位s



  - 发送时延（传输时延）：从发送分组的第一个比特算起， 到该分组的最后一个比特发送完毕所需的时间


$$
发送时延 = \frac{数据长度}{信道带宽}
$$

  

- 传播时延：取决于电磁波的传播速度和链路长度

$$
传播时延 = \frac{信道长度}{3 * 10^8}
$$

- 排队时延：等待输出/输入链路可用
- 处理时延：检错、找出口

**时延带宽积**

- 又称为 **以比特为单位的链路长度**， 即 某段链路现在有多少比特， 是指链路中某一时刻的比特容量

$$
时延带宽积(bit) = 传播时延(s) \times 带宽 (b/s)
$$

**往返时间RTT**

- 从发送方发送数据开始， 到发送方收到接收方的确认（接收方收到数据后立即发送确认），总共经历的时延
  - 如 ping 的time = 33ms
- RTT越大，在收到确认之前，可以发送的数据越多
- RTT包括
  - 往返传播时延 = 传播时延 * 2
  - 末端处理时间

 **利用率**

- 信道利用率

$$
信道利用率 = \frac{有数据通过时间}{（有+无）数据通过时间}
$$

- 网络利用率： 信道利用率加权平均值

> 加权平均值即将各数值乘以相应的权数，然后加总求和得到总体值，再除以总的单位数。加权平均值的大小不仅取决于总体中各单位的数值（变量值）的大小，而且取决于各数值出现的次数（频数），由于各数值出现的次数对其在平均数中的影响起着权衡轻重的作用，因此叫做权数。

## 2. 分层结构 

- 实体：第n层中的活动元素称为 **n层实体**。同一层的实体叫 **对等实体**。
- 协议：为进行网络中的 **对等实体** 数据交换而建立的规则、标准或约定称为网络协议。
- 接口（访问服务点SAP）： 上层使用下层服务的入口。
- 服务：下层为相邻上层提供的功能调用。

### 2.1. OSI参考模型

目的：支持 **异构网络系统** 的互联互通。

国际标准化组织（ISO) 于1984年提出开放系统互连（OSI）参考模型。

| OSI 七层   | 说明                 |
| ---------- | -------------------- |
| 应用层     | 数据子网（数据处理） |
| 表示层     | 数据子网（数据处理） |
| 会话层     | 数据子网（数据处理） |
| 传输层     |                      |
| 网络层     | 通信子网（数据通信） |
| 数据链路层 | 通信子网（数据通信） |
| 物理层     | 通信子网（数据通信） |

- 应用层
  - 定义：所有能和用户交互产生网络流量的程序
  - 典型应用层服务：
    - 文件传输：FTP
    - 电子邮件：SMTP
    - 万维网：HTTP
- 表示层
  - 定义：用于处理在两个通信系统中交换信息的表示方式（语法和语义）
  - 功能：
    - 数据格式变换
    - 数据加密解密
    - 数据压缩和恢复
- 会话层
  - 定义：向表示层实体/用户进程提供**建立连接**并在连接上**有序地传输**数据。这是会话， 也是**建立同步**（SYN)
  - 功能：
    - 建立、管理、终止会话
    - 使用校验点可使会话在通信失效时从 **校验点/同步点** 继续恢复通信，实现数据同步。（适用于传输大文件）
- 传输层
  - 定义：负责该机中 **两个进程** 的通信，即**端到端** 的通信。传输意念是报文段或用户数据报。
  - 功能：
    - 可靠传输、不可靠传输
      - 可靠：先建立连接，确认机制，如握手，再传输数据
      - 不可靠：无建立连接，直接传数据
    - 差错控制
    - 流量控制
    - 复用分用
      - 复用：多个应用层进程可同时使用下面传输层的服务
      - 分用：运输层把收到的信息分别交付给上面应用层中相应的进程
- 网络层
  - 定义：主要任务是把分组从源端传到目的端，为分组交换网上的不同该机提供通信服务。网络层传输单位是数据报
  - 功能：
    - 路由选择：最佳路径
    - 流量控制：限制发送端
    - 差错控制
    - 拥塞控制：若所有结点都来不及接受分组，而要丢弃大量分组的话，网络就处于拥塞状态。因此要采取一定措施，缓解这种拥塞。
- 数据链路层
  - 定义：主要任务是把网络层传下来的数据报组装成帧。传输单位是帧。
  - 功能：
    - 成帧（定义帧的开始和结束）
    - 差错控制：帧错+位错
    - 流量控制：限制发送端速度
    - 访问（接入）控制：控制对信道的访问
- 物理层
  - 定义：主要任务是在物理媒体上实现比特流的透明传输。传输单位是比特。
  - 透明传输：指不管所传数据是什么样的比特组合，都应当能够在链路上传送。
  - 功能：
    - 定义接口特性
    - 定义传输模式
      - 单工、半双工、双工
    - 定义传输速率
    - 比特同步
    - 比特编码：用什么电压表示1， 什么电压表示0

### 2.2. TCP/IP模型

| TCP/IP 四层 | 协议栈                     |
| ----------- | -------------------------- |
| 应用层      | HTTP，FTP，DNS，SMTP       |
| 传输层      | TCP，UDP                   |
| 网际层      | IP                         |
| 网络接口层  | Ethernet, ATM, Frame Relay |

### 2.3. OSI与TCP/IP对比

- 相同点
  - 都分层
  - 基于独立的协议栈的概念
  - 可以实现异构网络互联
- 不同点
  - OSI定义三点：服务、协议、接口
  - OSI先出现，参考模型先于协议发明，不偏向特定协议
  - TCP/IP设计之初就考虑到异构网互联问题，将IP作为重要层次

|        | OSI               | TCP/IP            |
| ------ | ----------------- | ----------------- |
| 网络层 | 无连接 + 面向连接 | 无连接            |
| 传输层 | 面向连接          | 无连接 + 面向连接 |

**面向连接**分为三个阶段：

1. 建立连接，在此阶段，发出一个建立连接的请求。
2. 只有连接成功建立之后，才能开始传输数据， 这是第二阶段
3. 当数据传输完毕必须释放连接

**无连接**直接进行数据传输

### 2.4. 5层参考模型

| 5层参考模型 | 说明                                 | 协议            |
| ----------- | ------------------------------------ | --------------- |
| 应用层      | 支持各种网络应用                     | FTP、SMTP、HTTP |
| 传输层      | 进程-进程的数据传输                  | TCP、UDP        |
| 网络层      | 源主机到目的主机的数据分组路由与转发 | IP、ICMP、OSPF  |
| 数据链路层  | 把网络层传下来的数据报组装成帧       | Ethernet、PPP   |
| 物理层      | 比特传输                             |                 |



















